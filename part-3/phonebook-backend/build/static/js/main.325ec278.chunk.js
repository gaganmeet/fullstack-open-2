(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{41:function(e,n,t){"use strict";t.r(n);var c=t(16),a=t.n(c),r=t(5),u=t(7),o=t(4),i=t(17),s=t(2),b=t(3),j=t.n(b),l="/persons",h=t(0),m=function(){var e=Object(s.useState)([]),n=Object(o.a)(e,2),t=n[0],c=n[1],a=Object(s.useState)({}),b=Object(o.a)(a,2),m=b[0],d=b[1],f=Object(s.useState)(""),O=Object(o.a)(f,2),p=O[0],x=O[1],v=Object(s.useState)([]),g=Object(o.a)(v,2),k=g[0],C=g[1];function w(e){(function(e){return j.a.delete("".concat(l,"/").concat(e)).then((function(e){return e.data}))})(e).then((function(n){c(t.filter((function(n){return n.id!==e})))}))}function y(e){var n=e.target,t=n.value,c=n.name;d(Object(u.a)(Object(u.a)({},m),{},Object(r.a)({},c,t)))}return Object(s.useEffect)((function(){j.a.get(l).then((function(e){return e.data})).then((function(e){c(e)})).catch((function(e){console.log(e)}))}),[]),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Phonebook"}),Object(h.jsxs)("p",{children:["filter shown with:"," ",Object(h.jsx)("input",{type:"text",onChange:function(e){x(e.target.value),C((function(){return t.filter((function(n){return n.name.toLowerCase().includes(e.target.value.toLowerCase())}))}))},value:p})]}),Object(h.jsxs)("form",{children:[Object(h.jsxs)("div",{children:["name:"," ",Object(h.jsx)("input",{name:"name",onChange:y,value:m.name}),Object(h.jsxs)("div",{children:["number:"," ",Object(h.jsx)("input",{name:"number",onChange:y,value:m.number})]})]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"submit",onClick:function(e){if(e.preventDefault(),t.find((function(e){return e.name===m.name})))alert("".concat(m.name," is already in the list"));else{var n={name:m.name,number:m.number,id:Object(i.a)()};(a=n,j.a.post(l,a).then((function(e){return console.log(e),e.data}))).then((function(e){c(t.concat(e)),d({name:"",number:""})}))}var a;d({name:"",number:""}),x("")},children:"add"})})]}),Object(h.jsx)("h2",{children:"Numbers"}),0===p.length?t.map((function(e){return Object(h.jsxs)("p",{children:[e.name+" "+e.number," ",Object(h.jsx)("button",{onClick:function(){return w(e.id)},children:"Delete"})]},e.name)})):k.map((function(e){return Object(h.jsx)("p",{children:e.name+" "+e.number},e.name)}))]})};a.a.render(Object(h.jsx)(m,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.325ec278.chunk.js.map