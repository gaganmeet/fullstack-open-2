{"version":3,"sources":["axioscall.js","App.js","index.js"],"names":["baseUrl","App","useState","persons","setPersons","newName","setNewName","filter","setFilter","filteredList","setFilteredList","handleDelete","id","axios","delete","then","response","data","remove","p","handleChange","e","target","value","name","useEffect","get","catch","error","console","log","type","onChange","toLowerCase","includes","number","onClick","preventDefault","find","alert","newData","nanoid","newObject","post","concat","length","map","person","ReactDOM","render","document","getElementById"],"mappings":"uLACMA,EAAU,W,OC2GDC,EAzGH,WACV,MAA8BC,mBAAS,IAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA8BF,mBAAS,IAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAA4BJ,mBAAS,IAArC,mBAAOK,EAAP,KAAeC,EAAf,KACA,EAAwCN,mBAAS,IAAjD,mBAAOO,EAAP,KAAqBC,EAArB,KAqCA,SAASC,EAAaC,ID3BT,SAACA,GAEd,OADgBC,IAAMC,OAAN,UAAgBd,EAAhB,YAA2BY,IAC5BG,MAAK,SAACC,GAAD,OAAcA,EAASC,SC0BzCC,CAAON,GAAIG,MAAK,SAACC,GACfZ,EAAWD,EAAQI,QAAO,SAACY,GAAD,OAAOA,EAAEP,KAAOA,SAa9C,SAASQ,EAAaC,GACpB,MAAwBA,EAAEC,OAAlBC,EAAR,EAAQA,MAAOC,EAAf,EAAeA,KACflB,EAAW,2BACND,GADK,kBAEPmB,EAAOD,KAIZ,OA1DAE,qBAAU,WDLMZ,IAAMa,IAAI1B,GACXe,MAAK,SAACC,GAAD,OAAcA,EAASC,QCMtCF,MAAK,SAACC,GACLZ,EAAWY,MAEZW,OAAM,SAACC,GACNC,QAAQC,IAAIF,QAEf,IAmDD,gCACE,2CACA,mDACqB,IACnB,uBAAOG,KAAK,OAAOC,SAtBzB,SAAsBX,GACpBb,EAAUa,EAAEC,OAAOC,OACnBb,GAAgB,WACd,OAAOP,EAAQI,QAAO,SAACY,GACrB,OAAOA,EAAEK,KAAKS,cAAcC,SAASb,EAAEC,OAAOC,MAAMU,sBAkBTV,MAAOhB,OAEpD,iCACE,wCACQ,IACN,uBAAOiB,KAAK,OAAOQ,SAAUZ,EAAcG,MAAOlB,EAAQmB,OAC1D,0CACU,IACR,uBACEA,KAAK,SACLQ,SAAUZ,EACVG,MAAOlB,EAAQ8B,eAIrB,8BACE,wBAAQJ,KAAK,SAASK,QArE9B,SAAqBf,GAEnB,GADAA,EAAEgB,iBACElC,EAAQmC,MAAK,SAACnB,GAAD,OAAOA,EAAEK,OAASnB,EAAQmB,QACzCe,MAAM,GAAD,OAAIlC,EAAQmB,KAAZ,gCACA,CACL,IAAMgB,EAAU,CACdhB,KAAMnB,EAAQmB,KACdW,OAAQ9B,EAAQ8B,OAChBvB,GAAI6B,gBDnBIC,ECqBHF,EDpBK3B,IAAM8B,KAAK3C,EAAS0C,GACrB3B,MAAK,SAACC,GAEnB,OADAa,QAAQC,IAAId,GACLA,EAASC,SCiBEF,MAAK,SAACC,GACpBZ,EAAWD,EAAQyC,OAAO5B,IAC1BV,EAAW,CACTkB,KAAM,GACNW,OAAQ,QDzBH,IAACO,EC6BZpC,EAAW,CACTkB,KAAM,GACNW,OAAQ,KAEV3B,EAAU,KA+CJ,sBAKJ,yCACmB,IAAlBD,EAAOsC,OACJ1C,EAAQ2C,KAAI,SAACC,GAAD,OACV,8BACGA,EAAOvB,KAAO,IAAMuB,EAAOZ,OAAQ,IACpC,wBAAQC,QAAS,kBAAMzB,EAAaoC,EAAOnC,KAA3C,sBAFMmC,EAAOvB,SAKjBf,EAAaqC,KAAI,SAACC,GAAD,OACf,4BAAsBA,EAAOvB,KAAO,IAAMuB,EAAOZ,QAAzCY,EAAOvB,aCnG3BwB,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.325ec278.chunk.js","sourcesContent":["import axios from \"axios\";\nconst baseUrl = \"/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => {\n    console.log(response);\n    return response.data;\n  });\n};\n\n// axios delete method\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nexport { getAll, create, remove, update };\n","import { nanoid } from \"nanoid\";\nimport React, { useState, useEffect } from \"react\";\nimport { getAll, remove, create } from \"./axioscall\";\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState({});\n  const [filter, setFilter] = useState(\"\");\n  const [filteredList, setFilteredList] = useState([]);\n\n  useEffect(() => {\n    getAll()\n      .then((response) => {\n        setPersons(response);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, []);\n\n  function handleClick(e) {\n    e.preventDefault();\n    if (persons.find((p) => p.name === newName.name)) {\n      alert(`${newName.name} is already in the list`);\n    } else {\n      const newData = {\n        name: newName.name,\n        number: newName.number,\n        id: nanoid(),\n      };\n      create(newData).then((response) => {\n        setPersons(persons.concat(response));\n        setNewName({\n          name: \"\",\n          number: \"\",\n        });\n      });\n    }\n    setNewName({\n      name: \"\",\n      number: \"\",\n    });\n    setFilter(\"\");\n  }\n\n  function handleDelete(id) {\n    remove(id).then((response) => {\n      setPersons(persons.filter((p) => p.id !== id));\n    });\n  }\n\n  function handleFilter(e) {\n    setFilter(e.target.value);\n    setFilteredList(() => {\n      return persons.filter((p) => {\n        return p.name.toLowerCase().includes(e.target.value.toLowerCase());\n      });\n    });\n  }\n\n  function handleChange(e) {\n    const { value, name } = e.target;\n    setNewName({\n      ...newName,\n      [name]: value,\n    });\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <p>\n        filter shown with:{\" \"}\n        <input type=\"text\" onChange={handleFilter} value={filter} />\n      </p>\n      <form>\n        <div>\n          name:{\" \"}\n          <input name=\"name\" onChange={handleChange} value={newName.name} />\n          <div>\n            number:{\" \"}\n            <input\n              name=\"number\"\n              onChange={handleChange}\n              value={newName.number}\n            />\n          </div>\n        </div>\n        <div>\n          <button type=\"submit\" onClick={handleClick}>\n            add\n          </button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      {filter.length === 0\n        ? persons.map((person) => (\n            <p key={person.name}>\n              {person.name + \" \" + person.number}{\" \"}\n              <button onClick={() => handleDelete(person.id)}>Delete</button>\n            </p>\n          ))\n        : filteredList.map((person) => (\n            <p key={person.name}>{person.name + \" \" + person.number}</p>\n          ))}\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}